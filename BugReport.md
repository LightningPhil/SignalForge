# Bug Report

## Overview
A manual review of the Signal Forge codebase surfaced several functional issues that may surface during real-world use. The findings below summarize the impacted areas, the problematic behavior, and why each issue is considered a bug.

## Findings

### 1) Header detection fails when CSV metadata exceeds 5KB or 50 lines
* **Where:** `src/io/csvParser.js`
* **Issue:** `processFile` only reads the first 5KB and truncates to the first 50 lines before showing the header selector. If a CSV file contains a long metadata preamble (common with oscilloscope exports) that pushes the actual header beyond that window, the user can never select the true header row, causing all subsequent parsing to misalign columns.
* **Why it’s a bug:** Legitimate files with large leading metadata cannot be imported correctly, leaving users unable to load data at all.
* **Reference:** `processFile` slices the file to 5KB and limits preview lines to 50 before passing them to the selector.【F:src/io/csvParser.js†L9-L38】

### 2) Loading settings silently resets pipeline scope to global when the field is absent
* **Where:** `src/io/settingsManager.js`
* **Issue:** `applySettings` defaults `pipelineScope` to `true` whenever the incoming JSON omits the field. This overwrites any existing per-column pipeline configuration the user had in memory, even if the saved file intended to preserve “per-tab” scope but was generated by an older version that didn’t write the flag.
* **Why it’s a bug:** Importing settings can unexpectedly flip the scope back to “sync all tabs,” discarding per-column pipelines and confusing users who expect their prior scope to be preserved.
* **Reference:** The merge logic hardcodes `pipelineScope` to `true` when the field is missing instead of retaining the current state.【F:src/io/settingsManager.js†L87-L95】

### 3) CSV export ignores numeric columns when the first data row is empty or non-numeric
* **Where:** `src/io/exporter.js`
* **Issue:** Numeric column detection checks only the first row (`rawData[0]`) to decide if a column is numeric. If the first row has missing values or non-numeric metadata, the column is excluded from `numericCols`, so it never appears in the exported file even though subsequent rows contain valid numbers.
* **Why it’s a bug:** Valid numeric channels get dropped from exports based solely on the first row’s contents, producing incomplete CSV downloads.
* **Reference:** `downloadCSV` filters numeric columns using only `rawData[0]` for the type check.【F:src/io/exporter.js†L36-L41】
